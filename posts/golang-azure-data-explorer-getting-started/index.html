<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Tutorial: Getting started with Azure Data Explorer using the Go SDK - Data Foo</title>
  <meta name="description" content="How to use the Azure Data explorer Go SDK to ingest data from a Azure Blob storage container and query it programmatically">
  <meta name="author" content="Abhishek Gupta"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Data Foo",
    
    "url": "https:\/\/abhirockzz.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/abhirockzz.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/abhirockzz.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/abhirockzz.github.io\/posts\/golang-azure-data-explorer-getting-started\/",
          "name": "Tutorial getting started with azure data explorer using the go s d k"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Abhishek Gupta"
  },
  "headline": "Tutorial: Getting started with Azure Data Explorer using the Go SDK",
  "description" : "How to use the Azure Data explorer Go SDK to ingest data from a Azure Blob storage container and query it programmatically",
  "inLanguage" : "en",
  "wordCount":  1734 ,
  "datePublished" : "2020-07-22T00:00:00",
  "dateModified" : "2020-07-22T00:00:00",
  "image" : "https:\/\/abhirockzz.github.io\/icon.jpg",
  "keywords" : [ "golang, azure data explorer, big data, nosql, azure" ],
  "mainEntityOfPage" : "https:\/\/abhirockzz.github.io\/posts\/golang-azure-data-explorer-getting-started\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/abhirockzz.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/abhirockzz.github.io\/icon.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Tutorial: Getting started with Azure Data Explorer using the Go SDK" />
<meta property="og:description" content="How to use the Azure Data explorer Go SDK to ingest data from a Azure Blob storage container and query it programmatically">
<meta property="og:image" content="https://abhirockzz.github.io/icon.jpg" />
<meta property="og:url" content="https://abhirockzz.github.io/posts/golang-azure-data-explorer-getting-started/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Data Foo" />

  <meta name="twitter:title" content="Tutorial: Getting started with Azure Data Explorer using the Go SDK" />
  <meta name="twitter:description" content="How to use the Azure Data explorer Go SDK to ingest data from a Azure Blob storage container and query it programmatically">
  <meta name="twitter:image" content="https://abhirockzz.github.io/icon.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@abhi_tweeter" />
  <meta name="twitter:creator" content="@abhi_tweeter" />
  <link href='https://abhirockzz.github.io/icons/myicon.png' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.80.0" />
  <link rel="alternate" href="https://abhirockzz.github.io/index.xml" type="application/rss+xml" title="Data Foo"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://abhirockzz.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://abhirockzz.github.io/css/syntax.css" /><link rel="stylesheet" href="https://abhirockzz.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-54762029-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://abhirockzz.github.io/">Data Foo</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about">About</a>
            </li>
          
        
          
            <li>
              <a title="Books" href="/books">Books</a>
            </li>
          
        
          
            <li>
              <a title="Presentations" href="/presentations">Presentations</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Data Foo" href="https://abhirockzz.github.io/">
            <img class="avatar-img" src="https://abhirockzz.github.io/icon.jpg" alt="Data Foo" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Tutorial: Getting started with Azure Data Explorer using the Go SDK</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>With the help of an example, this blog post will walk you through how to use the <a href="https://docs.microsoft.com/azure/data-explorer/kusto/api/golang/kusto-golang-client-library?WT.mc_id=devto-blog-abhishgu">Azure Data explorer Go SDK</a> to ingest data from a <a href="https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction?WT.mc_id=devto-blog-abhishgu">Azure Blob storage</a> container and query it programmatically using the SDK. After a quick overview of how to setup Azure Data Explorer cluster (and a database), we will explore the code to understand what&rsquo;s going on (and how) and finally test the application using a simple CLI interface</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/zn5ld22657d2ytiofcet.jpg" alt=""></p>
<p>The sample data is a CSV file that can be <a href="https://kustosamplefiles.blob.core.windows.net/samplefiles/StormEvents.csv?st=2018-08-31T22%3A02%3A25Z&amp;se=2020-09-01T22%3A02%3A00Z&amp;sp=r&amp;sv=2018-03-28&amp;sr=b&amp;sig=LQIbomcKI8Ooz425hWtjeq6d61uEaq21UVX7YrM61N4%3D%22">downloaded from here</a></p>
<blockquote>
<p>The code is available on GitHub <a href="https://github.com/abhirockzz/azure-dataexplorer-go">https://github.com/abhirockzz/azure-dataexplorer-go</a></p>
</blockquote>
<h2 id="what-is-azure-data-explorer-">What is Azure Data Explorer ?</h2>
<p><a href="https://docs.microsoft.com/azure/data-explorer/?WT.mc_id=devto-blog-abhishgu">Azure Data Explorer</a> (also known as <strong>Kusto</strong>) is a fast and scalable data exploration service for analyzing large volumes of diverse data from any data source, such as websites, applications, IoT devices, and more. This data can then be used for diagnostics, monitoring, reporting, machine learning, and additional analytics capabilities.</p>
<p>It supports <a href="https://docs.microsoft.com/azure/data-explorer/ingest-data-overview?WT.mc_id=devto-blog-abhishgu">several ingestion methods</a>, including connectors to common services like <a href="https://docs.microsoft.com/azure/data-explorer/ingest-data-event-hub?WT.mc_id=devto-blog-abhishgu">Event Hub</a>, programmatic ingestion using SDKs, such as <a href="https://docs.microsoft.com/azure/data-explorer/net-sdk-ingest-data?WT.mc_id=devto-blog-abhishgu">.NET</a> and <a href="https://docs.microsoft.com/azure/data-explorer/python-ingest-data?WT.mc_id=devto-blog-abhishgu">Python</a>, and direct access to the engine for exploration purposes. It also integrates with analytics and modeling services for additional analysis and visualization of data using tools such as <a href="https://docs.microsoft.com/azure/data-explorer/power-bi-best-practices?WT.mc_id=devto-blog-abhishgu">Power BI</a></p>
<p><img src="https://docs.microsoft.com/en-us/azure/data-explorer/media/data-explorer-overview/workflow.png" alt=""></p>
<h3 id="go-sdk-for-azure-data-explorer">Go SDK for Azure Data Explorer</h3>
<p><a href="https://github.com/Azure/azure-kusto-go">The Go client SDK</a> allows you to query, control and ingest into Azure Data Explorer clusters using <a href="https://golang.org/">Go</a>. Please note that this is for interacting with the Azure Data Explorer cluster (and related components such as tables etc.). To create Azure Data Explorer clusters, databases etc. you should the use the <a href="https://github.com/Azure/azure-sdk-for-go/tree/master/services/kusto/mgmt">admin component (control plane) SDK</a> which is a part of the larger <a href="https://docs.microsoft.com/azure/developer/go/?WT.mc_id=devto-blog-abhishgu">Azure SDK for Go</a></p>
<blockquote>
<p>API docs - <a href="https://godoc.org/github.com/Azure/azure-kusto-go">https://godoc.org/github.com/Azure/azure-kusto-go</a></p>
</blockquote>
<p>Before getting started, here is what you would need to try out the sample application</p>
<h2 id="pre-requisites">Pre-requisites</h2>
<p><a href="https://golang.org/dl/">Install Go 1.13 or above</a></p>
<p>You will need a <a href="https://docs.microsoft.com/azure/?WT.mc_id=devto-blog-abhishgu">Microsoft Azure account</a>. Go ahead and <a href="https://azure.microsoft.com/free/?WT.mc_id=devto-blog-abhishgu">sign up for a free one!</a></p>
<p>Install the <a href="https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest&amp;WT.mc_id=devto-blog-abhishgu">Azure CLI</a> if you don&rsquo;t have it already (should be quick!)</p>
<h2 id="setup-azure-data-explorer-cluster-create-a-database-and-configure-security">Setup Azure Data Explorer cluster, create a Database and configure security</h2>
<p>Start by creating a cluster using <a href="https://docs.microsoft.com/cli/azure/kusto/cluster?view=azure-cli-latest&amp;WT.mc_id=devto-blog-abhishgu#az-kusto-cluster-create">az kusto cluster create</a>. Once that&rsquo;s done, create a database with <a href="https://docs.microsoft.com/cli/azure/kusto/database?view=azure-cli-latest&amp;WT.mc_id=devto-blog-abhishgu#az-kusto-database-create">az kusto database create</a>, e.g.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">az kusto cluster create -l <span class="s2">&#34;Central US&#34;</span> -n MyADXCluster -g MyADXResGrp --sku Standard_D11_v2 --capacity <span class="m">2</span>

az kusto database create --cluster-name MyADXCluster -g MyADXResGrp -n MyADXdb

az kusto database show --cluster-name MyADXCluster --name MyADXdb --resource-group MyADXResGrp
</code></pre></div><p>Create a Service Principal using <a href="https://docs.microsoft.com/cli/azure/ad/sp?view=azure-cli-latest&amp;WT.mc_id=devto-blog-abhishgu#az-ad-sp-create-for-rbac">az ad sp create-for-rbac</a></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">az ad sp create-for-rbac -n &#34;test-datax-sp&#34;
</code></pre></div><p>You will get a JSON response as such - please note down the <code>appId</code>, <code>password</code> and <code>tenant</code> as you will be using them in subsequent steps</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;appId&#34;</span><span class="p">:</span> <span class="s2">&#34;fe7280c7-5705-4789-b17f-71a472340429&#34;</span><span class="p">,</span>
  <span class="nt">&#34;displayName&#34;</span><span class="p">:</span> <span class="s2">&#34;test-datax-sp&#34;</span><span class="p">,</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;http://test-datax-sp&#34;</span><span class="p">,</span>
  <span class="nt">&#34;password&#34;</span><span class="p">:</span> <span class="s2">&#34;29c719dd-f2b3-46de-b71c-4004fb6116ee&#34;</span><span class="p">,</span>
  <span class="nt">&#34;tenant&#34;</span><span class="p">:</span> <span class="s2">&#34;42f988bf-86f1-42af-91ab-2d7cd011db42&#34;</span>
<span class="p">}</span>
</code></pre></div><p>You will need to assign roles to the <a href="https://docs.microsoft.com/azure/active-directory/develop/app-objects-and-service-principals?WT.mc_id=devto-blog-abhishgu#service-principal-object">Service Principal</a> so that it can access the database you just created. To do so using the Azure Portal, open the Azure Data Explorer cluster, navigate to <code>Data &gt; Databases</code> and select the database. Choose <code>Permissions</code> form the left menu and and click <code>Add</code> to proceed.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/ewpjforrsyepct2wx1kn.png" alt=""></p>
<blockquote>
<p>For more information, please refer to <a href="https://docs.microsoft.com/azure/data-explorer/security?WT.mc_id=devto-blog-abhishgu#role-based-access-control">Secure Azure Data Explorer clusters in Azure</a></p>
</blockquote>
<h2 id="code-walk-through">Code walk through</h2>
<p>At a high level, this is what the sample code does:</p>
<ul>
<li>Connect to an Azure Data Explorer cluster (of course!)</li>
<li>Create a table (and list them just to be sure)</li>
<li>Create data mapping</li>
<li>Ingest/load existing data from a CSV file in Azure Blob storage</li>
<li>Run a query on the data you just ingested</li>
</ul>
<p>Let&rsquo;s look at each of these steps</p>
<h3 id="connect-to-an-azure-data-explorer-cluster">Connect to an Azure Data Explorer cluster</h3>
<p>We use Service Principal to authenticate to Azure Data Explorer and provide the Azure tenant ID, client ID and client secret (which were obtained after creating the principal using <code>az ad sp create-for-rbac</code>)</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">auth</span> <span class="o">:=</span> <span class="nx">kusto</span><span class="p">.</span><span class="nx">Authorization</span><span class="p">{</span><span class="nx">Config</span><span class="p">:</span> <span class="nx">auth</span><span class="p">.</span><span class="nf">NewClientCredentialsConfig</span><span class="p">(</span><span class="nx">clientID</span><span class="p">,</span> <span class="nx">clientSecret</span><span class="p">,</span> <span class="nx">tenantID</span><span class="p">)}</span>
<span class="nx">kc</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">kustoEndpoint</span><span class="p">,</span> <span class="nx">auth</span><span class="p">)</span>
<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to create kusto client&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/cli/util/util.go#L12">check out the code here</a></p>
</blockquote>
<h3 id="create-table-and-data-mappings">Create table and data mappings</h3>
<p>To create a table, we simply execute <code>create table</code></p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">CreateTable</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">kustoDB</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kc</span><span class="p">.</span><span class="nf">Mgmt</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">NewStmt</span><span class="p">(</span><span class="nx">createTableCommand</span><span class="p">))</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to create table&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;table %s created\n&#34;</span><span class="p">,</span> <span class="nx">kustoTable</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/setup/setup.go#L22">check out the code here</a></p>
</blockquote>
<p>Notice how we use <a href="https://godoc.org/github.com/Azure/azure-kusto-go/kusto#Client.Mgmt">client.Mgmt</a> to execute this operation since this is a <code>management</code> query. Later, you will see how to execute query to read data from Azure Data  Explorer.</p>
<p>To confirm, we run a query to check the tables in database i.e. <code>show tables</code></p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">FindTable</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">kustoDB</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="nx">TableInfo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">tables</span> <span class="p">[]</span><span class="nx">TableInfo</span>
    <span class="nx">ri</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kc</span><span class="p">.</span><span class="nf">Mgmt</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">NewStmt</span><span class="p">(</span><span class="nx">testQuery</span><span class="p">))</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;failed to execute query %s - %s&#34;</span><span class="p">,</span> <span class="nx">testQuery</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">t</span> <span class="nx">TableInfo</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="nx">row</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ri</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span> <span class="p">{</span>
                <span class="k">break</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">row</span><span class="p">.</span><span class="nf">ToStruct</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">t</span><span class="p">)</span>
        <span class="nx">tables</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">tables</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">tables</span>
<span class="p">}</span>
<span class="o">...</span>
<span class="kd">type</span> <span class="nx">TableInfo</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Name</span> <span class="kt">string</span> <span class="s">`kusto:&#34;TableName&#34;`</span>
    <span class="nx">DB</span>   <span class="kt">string</span> <span class="s">`kusto:&#34;DatabaseName&#34;`</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/setup/setup.go#L32">check out the code here</a></p>
</blockquote>
<p>After executing the query, <a href="https://github.com/Azure/azure-kusto-go/blob/master/kusto/data/table/table.go#L120"><code>ToStruct</code></a> is used to save the result to an instance of a user-defined <code>TableInfo</code> struct</p>
<p>Once the table is created, we can <a href="https://docs.microsoft.com/azure/data-explorer/kusto/management/mappings?WT.mc_id=devto-blog-abhishgu">configure data mappings</a> that are used during ingestion to map incoming data to columns inside Kusto tables</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">CreateMapping</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">kustoDB</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kc</span><span class="p">.</span><span class="nf">Mgmt</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">NewStmt</span><span class="p">(</span><span class="nx">createMappingCommand</span><span class="p">))</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to create mapping&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;mapping %s created\n&#34;</span><span class="p">,</span> <span class="nx">kustoMappingRefName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/setup/setup.go#L61">check out the code here</a></p>
</blockquote>
<h3 id="ingest-data-from-azure-blob-storage">Ingest data from Azure Blob storage</h3>
<p>To ingest data we use the <a href="https://godoc.org/github.com/Azure/azure-kusto-go/kusto/ingest#Ingestion"><code>Ingestion</code></a> client</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="nx">blobStorePathFormat</span> <span class="p">=</span> <span class="s">&#34;https://%s.blob.core.windows.net/%s/%s%s&#34;</span>

<span class="kd">func</span> <span class="nf">CSVFromBlob</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">blobStoreAccountName</span><span class="p">,</span> <span class="nx">blobStoreContainer</span><span class="p">,</span> <span class="nx">blobStoreToken</span><span class="p">,</span> <span class="nx">blobStoreFileName</span><span class="p">,</span> <span class="nx">kustoMappingRefName</span><span class="p">,</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kustoTable</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">kIngest</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ingest</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">kc</span><span class="p">,</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kustoTable</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to create ingestion client&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">blobStorePath</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="nx">blobStorePathFormat</span><span class="p">,</span> <span class="nx">blobStoreAccountName</span><span class="p">,</span> <span class="nx">blobStoreContainer</span><span class="p">,</span> <span class="nx">blobStoreFileName</span><span class="p">,</span> <span class="nx">blobStoreToken</span><span class="p">)</span>
    <span class="nx">err</span> <span class="p">=</span> <span class="nx">kIngest</span><span class="p">.</span><span class="nf">FromFile</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">blobStorePath</span><span class="p">,</span> <span class="nx">ingest</span><span class="p">.</span><span class="nf">FileFormat</span><span class="p">(</span><span class="nx">ingest</span><span class="p">.</span><span class="nx">CSV</span><span class="p">),</span> <span class="nx">ingest</span><span class="p">.</span><span class="nf">IngestionMappingRef</span><span class="p">(</span><span class="nx">kustoMappingRefName</span><span class="p">,</span> <span class="nx">ingest</span><span class="p">.</span><span class="nx">CSV</span><span class="p">))</span>

    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to ingest file&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Ingested file from -&#34;</span><span class="p">,</span> <span class="nx">blobStorePath</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/load/ingest.go#L15">check out the code here</a></p>
</blockquote>
<p>We have the path to the file in Azure Blob storage and we refer to it in <a href="https://godoc.org/github.com/Azure/azure-kusto-go/kusto/ingest#Ingestion.FromFile"><code>FromFile</code></a> function along with file type (<code>CSV</code> in this case) as well as data mapping we just created (<code>StormEvents_CSV_Mapping</code>)</p>
<h3 id="query-data">Query data</h3>
<p>We fetch some data from the <code>StormEvents</code> table using the following query:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">StormEvents | where EventType == &#39;Flood&#39; and State == &#39;WASHINGTON&#39; | sort by DamageProperty desc | project StartTime, EndTime, Source, DamageProperty
</code></pre></div><p>This time, we use <code>client.Query</code> (not <code>Mgmt</code>) to read data from the table.</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">Get</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">kustoDB</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="nx">StormDetails</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">events</span> <span class="p">[]</span><span class="nx">StormDetail</span>
    <span class="nx">ri</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kc</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">NewStmt</span><span class="p">(</span><span class="nx">query</span><span class="p">))</span>

    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;failed to execute query %s - %s&#34;</span><span class="p">,</span> <span class="nx">query</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="nx">row</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ri</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span> <span class="p">{</span>
                <span class="k">break</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">event</span> <span class="nx">StormDetail</span>
        <span class="nx">row</span><span class="p">.</span><span class="nf">ToStruct</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">event</span><span class="p">)</span>
        <span class="nx">events</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">events</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">events</span>
<span class="o">...</span>
<span class="kd">type</span> <span class="nx">StormDetail</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Start</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span> <span class="s">`kusto:&#34;StartTime&#34;`</span>
    <span class="nx">End</span>    <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span> <span class="s">`kusto:&#34;EndTime&#34;`</span>
    <span class="nx">From</span>   <span class="kt">string</span>    <span class="s">`kusto:&#34;Source&#34;`</span>
    <span class="nx">Damage</span> <span class="kt">int32</span>     <span class="s">`kusto:&#34;DamageProperty&#34;`</span>
<span class="p">}</span>
</code></pre></div><p>Each row in the result in converted into a <code>StormDetail</code> struct using <code>ToStruct</code></p>
<blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/query/query.go#L15">check out the code here</a></p>
</blockquote>
<p>The list of <code>StormDetail</code>s is then displayed to stdout in the form a user-friendly tabular format</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="o">...</span>
<span class="nx">data</span> <span class="o">:=</span> <span class="p">[][]</span><span class="kt">string</span><span class="p">{}</span>
<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">detail</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">details</span> <span class="p">{</span>
    <span class="nx">data</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="nx">detail</span><span class="p">.</span><span class="nx">Start</span><span class="p">.</span><span class="nf">String</span><span class="p">(),</span> <span class="nx">detail</span><span class="p">.</span><span class="nx">End</span><span class="p">.</span><span class="nf">String</span><span class="p">(),</span> <span class="nx">detail</span><span class="p">.</span><span class="nx">From</span><span class="p">,</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Itoa</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nx">detail</span><span class="p">.</span><span class="nx">Damage</span><span class="p">))})</span>
<span class="p">}</span>
<span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;StormEvents data....&#34;</span><span class="p">)</span>
<span class="nx">table</span> <span class="o">:=</span> <span class="nx">tablewriter</span><span class="p">.</span><span class="nf">NewWriter</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)</span>
<span class="nx">table</span><span class="p">.</span><span class="nf">SetHeader</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;Start Time&#34;</span><span class="p">,</span> <span class="s">&#34;End Time&#34;</span><span class="p">,</span> <span class="s">&#34;From&#34;</span><span class="p">,</span> <span class="s">&#34;Damage&#34;</span><span class="p">})</span>

<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">data</span> <span class="p">{</span>
    <span class="nx">table</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">table</span><span class="p">.</span><span class="nf">Render</span><span class="p">()</span>
<span class="o">...</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/cli/query.go#L23">check out the code here</a></p>
</blockquote>
<p>Finally, to drop the table, we use <code>.drop table StormEvents</code></p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">const</span> <span class="nx">dropTableQ</span> <span class="p">=</span> <span class="s">&#34;.drop table StormEvents&#34;</span>

<span class="kd">func</span> <span class="nf">dropTable</span><span class="p">(</span><span class="nx">kc</span> <span class="o">*</span><span class="nx">kusto</span><span class="p">.</span><span class="nx">Client</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kc</span><span class="p">.</span><span class="nf">Mgmt</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">kustoDB</span><span class="p">,</span> <span class="nx">kusto</span><span class="p">.</span><span class="nf">NewStmt</span><span class="p">(</span><span class="nx">dropTableQ</span><span class="p">))</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="s">&#34;failed to drop table - &#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><blockquote>
<p>You can <a href="https://github.com/abhirockzz/azure-dataexplorer-go/blob/master/setup/setup.go#L72">check out the code here</a></p>
</blockquote>
<h2 id="run-the-example">Run the example</h2>
<p>Now that you have an idea of what&rsquo;s going on, let&rsquo;s try it out using a CLI</p>
<p>Set the required environment variables</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">AZURE_SP_CLIENT_ID</span><span class="o">=</span><span class="s2">&#34;service principal client id&#34;</span>
<span class="nb">export</span> <span class="nv">AZURE_SP_CLIENT_SECRET</span><span class="o">=</span><span class="s2">&#34;&lt;service principal client secret&gt;&#34;</span>
<span class="nb">export</span> <span class="nv">AZURE_SP_TENANT_ID</span><span class="o">=</span><span class="s2">&#34;&lt;tenant ID&gt;&#34;</span>
<span class="c1">#e.g. https://mykusto.southeastasia.kusto.windows.net</span>
<span class="nb">export</span> <span class="nv">KUSTO_ENDPOINT</span><span class="o">=</span><span class="s2">&#34;https://&lt;cluster name&gt;.&lt;azure region&gt;.kusto.windows.net&#34;</span>
</code></pre></div><p>Get the code and build it</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">git clone https://github.com/abhirockzz/azure-dataexplorer-go
<span class="nb">cd</span> azure-dataexplorer-go
go build -o azdatax

//to confirm
chmod a+x azdatax <span class="o">&amp;&amp;</span> ./azdatax

//output
CLI to <span class="nb">test</span> sample program <span class="k">for</span> Azure Data Explorer

Usage:
  azdatax <span class="o">[</span>command<span class="o">]</span>

Available Commands:
  create-mapping creates a mapping named StormEvents_CSV_Mapping
  create-table   creates a table named StormEvents
  drop-table     drops the StormEvents table
  get            queries data from StormEvents
  <span class="nb">help</span>           Help about any <span class="nb">command</span>
  ingest         ingests CSV file from blob store
  list-tables    lists tables

Flags:
  -h, --help   <span class="nb">help</span> <span class="k">for</span> azdatax

Use <span class="s2">&#34;azdatax [command] --help&#34;</span> <span class="k">for</span> more information about a command.
</code></pre></div><p>Let&rsquo;s start by creating a table:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax create-table --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
table StormEvents created
</code></pre></div><p>To list tables:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax list-tables --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
Table name: StormEvents, Database name: testkustodb
</code></pre></div><p>To create the data mapping</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax create-mapping --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
mapping StormEvents_CSV_Mapping created
</code></pre></div><p>To ingest data:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax ingest --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
Ingested file from - https://kustosamplefiles.blob.core.windows.net/samplefiles/StormEvents.csv?st<span class="o">=</span>2018-08-31T22%3A02%3A25Z<span class="p">&amp;</span><span class="nv">se</span><span class="o">=</span>2020-09-01T22%3A02%3A00Z<span class="p">&amp;</span><span class="nv">sp</span><span class="o">=</span>r<span class="p">&amp;</span><span class="nv">sv</span><span class="o">=</span>2018-03-28<span class="p">&amp;</span><span class="nv">sr</span><span class="o">=</span>b<span class="p">&amp;</span><span class="nv">sig</span><span class="o">=</span>LQIbomcKI8Ooz425hWtjeq6d61uEaq21UVX7YrM61N4%3D
</code></pre></div><p>Wait for a while for the ingestion to complete before you try to query the data (next step)</p>
<p>To query data</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax get --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
StormEvents data....
+-------------------------------+-------------------------------+---------------------------+----------+
<span class="p">|</span>          START TIME           <span class="p">|</span>           END TIME            <span class="p">|</span>           FROM            <span class="p">|</span>  DAMAGE  <span class="p">|</span>
+-------------------------------+-------------------------------+---------------------------+----------+
<span class="p">|</span> 2007-12-02 23:00:00 +0000 UTC <span class="p">|</span> 2007-12-05 23:00:00 +0000 UTC <span class="p">|</span> Official NWS Observations <span class="p">|</span> <span class="m">50000000</span> <span class="p">|</span>
<span class="p">|</span> 2007-01-03 00:00:00 +0000 UTC <span class="p">|</span> 2007-01-03 22:00:00 +0000 UTC <span class="p">|</span> Newspaper                 <span class="p">|</span>    <span class="m">20000</span> <span class="p">|</span>
<span class="p">|</span> 2007-12-03 03:00:00 +0000 UTC <span class="p">|</span> 2007-12-05 19:00:00 +0000 UTC <span class="p">|</span> Official NWS Observations <span class="p">|</span>    <span class="m">12000</span> <span class="p">|</span>
<span class="p">|</span> 2007-01-03 00:00:00 +0000 UTC <span class="p">|</span> 2007-01-03 22:00:00 +0000 UTC <span class="p">|</span> Newspaper                 <span class="p">|</span>     <span class="m">5000</span> <span class="p">|</span>
<span class="p">|</span> 2007-03-12 00:00:00 +0000 UTC <span class="p">|</span> 2007-03-13 23:00:00 +0000 UTC <span class="p">|</span> Public                    <span class="p">|</span>        <span class="m">0</span> <span class="p">|</span>
<span class="p">|</span> 2007-03-12 00:00:00 +0000 UTC <span class="p">|</span> 2007-03-14 23:00:00 +0000 UTC <span class="p">|</span> Other Federal             <span class="p">|</span>        <span class="m">0</span> <span class="p">|</span>
+-------------------------------+-------------------------------+---------------------------+----------+
</code></pre></div><p>Finally, to drop the StormEvents table:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./azdatax drop-table --dbname &lt;name of the database you created initially&gt;

//output
Connected to Azure Data Explorer
Table StormEvents dropped
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Hopefully this was helpful in demonstrating how to use the Go SDK to interact with Azure Data Explorer. This obviously just one of the ways! For more, <a href="https://docs.microsoft.com/azure/data-explorer/?WT.mc_id=devto-blog-abhishgu">dig into the documentation</a> and happy exploring!</p>


        
          <div class="blog-tags">
            
              <a href="https://abhirockzz.github.io//tags/golang/">golang</a>&nbsp;
            
              <a href="https://abhirockzz.github.io//tags/azure-data-explorer/">azure data explorer</a>&nbsp;
            
              <a href="https://abhirockzz.github.io//tags/big-data/">big data</a>&nbsp;
            
              <a href="https://abhirockzz.github.io//tags/nosql/">nosql</a>&nbsp;
            
              <a href="https://abhirockzz.github.io//tags/azure/">azure</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://abhirockzz.github.io/posts/manage-eventhubs-kubernetes/" data-toggle="tooltip" data-placement="top" title="Orchestrate Azure Event Hubs via Kubernetes">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://abhirockzz.github.io/posts/kafka-kubernetes-strimzi-4/" data-toggle="tooltip" data-placement="top" title="Kafka on Kubernetes, the Strimzi way! (Part 4)">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/abhirockzz" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/abhi_tweeter" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/abhirockzz" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://abhirockzz.github.io">Abhishek Gupta</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2021
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://abhirockzz.github.io/">Data Foo</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.80.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://abhirockzz.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://abhirockzz.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

