<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Build a pipeline to join streams of real time data - Abhishek&#39;s blog (work in progress)</title><link rel="icon" type="image/png" href=icons/myicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Build a pipeline to join streams of real time data" />
<meta property="og:description" content="A hands-on tutorial" />
<meta property="og:type" content="article" />
<meta property="og:url" content="abhirockzz.github.io/posts/azure-stream-analytics-tutorial/" />
<meta property="article:published_time" content="2020-08-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-28T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Build a pipeline to join streams of real time data"/>
<meta name="twitter:description" content="A hands-on tutorial"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="abhirockzz.github.iocss/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="abhirockzz.github.iocss/main.css" />
	<link rel="stylesheet" type="text/css" href="abhirockzz.github.iocss/custom.css" />
	<link rel="stylesheet" type="text/css" href="abhirockzz.github.iocss/dark.css" media="(prefers-color-scheme: dark)" />
	<link rel="stylesheet" type="text/css" href="abhirockzz.github.iocss/custom-dark.css" media="(prefers-color-scheme: dark)" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script src="abhirockzz.github.iojs/main.js"></script>
	<script src="abhirockzz.github.iojs/abc.js"></script>
	<script src="abhirockzz.github.iojs/xyz.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="abhirockzz.github.io">
	<h1 class="site-title"><a href="abhirockzz.github.io">Abhishek&#39;s blog (work in progress)</a></h1>
	<div class="site-description"><h2>Mostly about Kafka, Databases, Kubernetes and other open source stuff</h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/abhirockzz/" title="Github"><i data-feather="github"></i></a><a href="https://twitter.com/abhi_tweeter" title="Twitter"><i data-feather="twitter"></i></a><a href="https://www.linkedin.com/in/abhirockzz/" title="LinkedIn"><i data-feather="linkedin"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="abhirockzz.github.io/">Home</a>
			</li>
			
			<li>
				<a href="abhirockzz.github.io/posts">All posts</a>
			</li>
			
			<li>
				<a href="abhirockzz.github.io/about">About</a>
			</li>
			
			<li>
				<a href="abhirockzz.github.io/books">Books</a>
			</li>
			
			<li>
				<a href="abhirockzz.github.io/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Build a pipeline to join streams of real time data</h1>
			<div class="meta">Posted at &mdash; Aug 28, 2020</div>
		</div>

		<div class="markdown">
			<p>With traditional architectures, it&rsquo;s quite hard to counter challenges imposed by real-time streaming data – one such use case is joining streams of data from disparate sources. For example, think about a system that accepts processed orders from customers (real time, high velocity data source) and the requirement is to enrich these &ldquo;raw&rdquo; orders with additional customer info such as name, email, location etc. A possible solution is to build a service that fetches customer data for each customer ID from an external system (for example, a database), perform a join (in-memory) and stores the enriched data in another database perhaps (materialized view). This has several problems though and one of them is not being able to keep up (process with low latency) with a high volume data.</p>
<p>Stream Processing solutions are custom built for these kind of problems. One of them is Azure Stream Analytics, that is a real-time analytics and complex event-processing engine, designed to analyse and process high volumes of fast streaming data from multiple sources simultaneously.</p>
<p>It supports the notion of a <code>Job</code>, each of which consists of an <code>Input</code>, <code>Query</code>, and an <code>Output</code>. Azure Stream Analytics can ingest data from Azure Event Hubs (including Azure Event Hubs from Apache Kafka), Azure IoT Hub, or Azure Blob Storage. The query, which is based on <strong>SQL</strong> query language, can be used to easily <code>filter</code>, <code>sort</code>, <code>aggregate</code>, and <code>join</code> streaming data over a period of time.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/28q1pa3y6yz0sjqtxyu9.jpg" alt="Alt Text"></p>
<h3 id="hands-on-tutorial">Hands-on tutorial</h3>
<p><a href="https://github.com/abhirockzz/streaming-data-pipeline-azure">This GitHub repository</a> contains a sample application to demonstrate the related concepts and provides step-by-step guide to setup and run the end to end demo. It showcases how to build a data enrichment pipeline with streaming joins using a combination of Azure Event Hubs for data ingestion, Azure SQL Database for storing reference data, Azure Stream Analytics for data processing and Azure Cosmos DB for storing &ldquo;enriched&rdquo; data.</p>
<p>These are powerful, off-the-shelf services which you will be able to configure and use without setting up any infrastructure. You should be able to go through this tutorial using the Azure Portal (or Azure CLI), without writing any code!</p>
<p><a href="https://github.com/abhirockzz/streaming-data-pipeline-azure">https://github.com/abhirockzz/streaming-data-pipeline-azure</a></p>
<p><strong>TL;DR</strong></p>
<p>Here are the individual components:</p>
<ul>
<li><a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-about?WT.mc_id=devto-blog-abhishgu">Azure Event Hubs</a> (Input Data source) - ingests raw orders data</li>
<li><a href="https://docs.microsoft.com/azure/azure-sql/database/sql-database-paas-overview?WT.mc_id=devto-blog-abhishgu">Azure SQL Database</a> (Reference Data source) - stores reference customer data</li>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction?WT.mc_id=devto-blog-abhishgu">Azure Stream Analytics</a> (Stream Processing) - joins the stream of orders data from Azure Event Hubs with the static reference customers data</li>
<li><a href="https://docs.microsoft.com/azure/cosmos-db/introduction?WT.mc_id=devto-blog-abhishgu">Azure Cosmos DB</a> (Output data source) - acts as a &ldquo;sink&rdquo; to store enriched orders info</li>
</ul>
<p>I hope this helps you get started with Azure Stream Analytics and test the waters before moving on to more involved use cases. In addition to this, there is plenty of material for you to dig in!</p>
<ul>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-solution-patterns?WT.mc_id=devto-blog-abhishgu">Explore Architecture patterns</a></li>
<li>Reference solutions such as <a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-twitter-sentiment-analysis-trends?WT.mc_id=devto-blog-abhishgu">Twitter sentiment analysis</a>, fraud detection, IoT data processing etc.</li>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-stream-analytics-query-patterns?WT.mc_id=devto-blog-abhishgu">Common query patterns in Azure Stream Analytics</a></li>
</ul>

		</div>

		<div class="post-tags">
			
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> © Copyright notice |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-54762029-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>feather.replace()</script>
</body>
</html>
